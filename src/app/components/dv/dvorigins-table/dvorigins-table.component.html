<app-confirm-dialog></app-confirm-dialog>


@if (table$ | async; as table) {
  <div>
    <p-table [value]="table" dataKey="id">
      <ng-template pTemplate="caption">
        <div class="flex">
          <div class="flex items-center justify-between text-xl mr-2">Origins</div>
          <app-crud-panel class="flex items-center" [crudActions]="[CRUDAction.EA_CREATE]" (crudEvent)="crudEvent($event)"></app-crud-panel>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th style="width:0">Id</th>
          <th>Name</th>
          <th style="width:0"></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item>
        <tr>
          <td>{{item.id}}</td>
          <td>{{item.name}}</td>
          <td>
            <app-crud-panel
              [data]="item"
              [crudActions]="[CRUDAction.EA_UPDATE, CRUDAction.EA_DELETE]"
              (crudEvent)="crudEvent($event)">
            </app-crud-panel>
          </td>
        </tr>
      </ng-template>
    </p-table>
    @if (deleteAction$ | async) {
    }
    @if (editAction$ | async; as dvOrigin) {
      @if (displayForm) {
        <app-dvorigin-form [(display)]="displayForm" [editItem]="dvOrigin" (onSavedItem)="savedEditData($event)"></app-dvorigin-form>
      }
    }
  </div>
} @else {
  @if (!errorObject) {
    <app-loading></app-loading>
  }
}
